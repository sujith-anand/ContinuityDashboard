"use strict";(self.webpackChunkcontrol=self.webpackChunkcontrol||[]).push([[9044],{19044:function(e,t,a){var n=a(70719),s=a(4523),d=a(62493),o={chartInstances:{},render:function(){var e=(0,d.A)("red"),t=(0,d.A)("orange"),o=(0,d.A)("yellow"),i=(0,d.A)("green"),l=(0,d.A)("gray-dark"),r=((0,d.A)("gray-darker"),(0,d.A)("blue-dark")),c={"bootstrap-green-red":[i,e],"bootstrap-green-yellow-red":[i,o,e],"bootstrap-risk-rating":[r,i,o,t,e,l]};function _(e){return function(e){var t;return t=(0,s.Ay)(e.data("chart-colors")).map((function(e){return(0,d.A)(e)})),(0,s.Ay)(t).isEmpty()?void 0:t}(e)||c[e.data("chart-color-scheme")]||{}}(0,n.A)(".pie_chart, .pie-chart").each((function(e,t){var s=(0,n.A)(t),d=s.data("json"),o={colors:_(s),title:{text:s.data("chart-title")||null},chart:{renderTo:t,defaultSeriesType:"pie"},plotOptions:{pie:{dataLabels:{enabled:!1},showInLegend:!0}},series:[{name:"Series",data:d}]};Promise.all([a.e(8096),a.e(9558),a.e(4016)]).then(a.bind(a,10500)).then((function(e){new e.default.Chart(o)}))})),(0,n.A)(".compact-pie-chart-legend").each((function(e,t){var s=(0,n.A)(t),d=s.data("json"),o={colors:_(s),chart:{renderTo:t,defaultSeriesType:"pie"},plotOptions:{pie:{size:"100%",dataLabels:{enabled:!1},showInLegend:!0}},title:{text:null},legend:{enabled:!0,layout:"vertical",align:"right",verticalAlign:"middle",borderRadius:0,borderWidth:0},tooltip:{formatter:function(){return this.key.replace(/\s+/g,"<br>")}},series:[{name:"Series",data:d}]};Promise.all([a.e(8096),a.e(9558),a.e(4016)]).then(a.bind(a,10500)).then((function(e){new e.default.Chart(o)}))})),(0,n.A)(".compact-pie-chart").each((function(e,t){var s=(0,n.A)(t),d=s.data("json"),o={colors:_(s),chart:{renderTo:t,defaultSeriesType:"pie"},plotOptions:{pie:{dataLabels:{enabled:!1}},series:{enableMouseTracking:!0}},title:{text:null},legend:{enabled:!1},tooltip:{formatter:function(){return this.key.replace(/\s+/g,"<br>")}},series:[{name:"Series",data:d}]};Promise.all([a.e(8096),a.e(9558),a.e(4016)]).then(a.bind(a,10500)).then((function(e){new e.default.Chart(o)}))})),(0,n.A)(".time_chart").each((function(e,t){var d=(0,n.A)(t),o=d.data("json"),i=(0,s.Ay)(o).map((function(e){return[Date.parse(e[0]),e[1]]})),l={title:{text:d.data("chart-title")},chart:{renderTo:t},series:[{type:"column",name:"Series",data:i,pointStart:Date.parse(d.data("chart-start")),pointInterval:864e5}],plotOptions:{series:{pointPadding:0,groupPadding:0,borderWidth:0,shadow:!1}},yAxis:{title:{text:d.data("vaxis-title")},allowDecimals:!1,min:0},xAxis:{type:"datetime",title:{text:d.data("haxis-title")}},legend:{enabled:!1}};Promise.all([a.e(8096),a.e(9558),a.e(4016)]).then(a.bind(a,10500)).then((function(e){new e.default.Chart(l)}))})),(0,n.A)(".column_chart, .column-chart").each((function(e,t){var d=(0,n.A)(t),o=d.data("json"),i=(0,s.Ay)(o).map((function(e){return e[0].toString()})),l=(0,s.Ay)(o).map((function(e){return e[1]})),r={title:{text:d.data("chart-title")||null},chart:{renderTo:t,defaultSeriesType:"column",width:d.data("width")||null,height:d.data("height")||null},series:[{name:"Series",data:l}],yAxis:{title:{text:d.data("vaxis-title")||null},allowDecimals:!1,min:0},xAxis:{categories:i,title:{text:d.data("haxis-title")||null},labels:{step:d.data("haxis-labels-step")||2,rotation:-45,align:"right"}},legend:{enabled:!1}};Promise.all([a.e(8096),a.e(9558),a.e(4016)]).then(a.bind(a,10500)).then((function(e){new e.default.Chart(r)}))})),(0,n.A)(".gauge-chart").each((function(s,d){Promise.all([a.e(8096),a.e(9558),a.e(4016)]).then(a.bind(a,10500)).then((function(a){var s=a.default,l=(0,n.A)(d),r=l.data("json"),c={chart:{type:"solidgauge",renderTo:d},title:null,pane:{center:["50%","85%"],size:"140%",startAngle:-90,endAngle:90,background:{backgroundColor:s.theme&&s.theme.background2||"#EEEEEE",innerRadius:"60%",outerRadius:"100%",shape:"arc"}},tooltip:{enabled:!1},yAxis:{stops:[[0,i],[.25,o],[.5,t],[.75,e]],lineWidth:0,minorTickInterval:null,tickPixelInterval:400,tickWidth:0,labels:{enabled:!1},min:l.data("min"),max:l.data("max")},plotOptions:{solidgauge:{dataLabels:{y:5,borderWidth:0,useHTML:!0}}},series:[{data:r,dataLabels:{format:l.data("series-datalabels-format")}}]};new s.Chart(c)}))})),(0,n.A)(".donut-chart").each((function(e,t){Promise.all([a.e(8096),a.e(9558),a.e(4016)]).then(a.bind(a,10500)).then((function(e){var a=e.default,s=(0,n.A)(t).data("json"),d=s.percentages,o=s.tasks,i=o.reduce((function(e,t){return e+t}),0),l=["#F765A3","#A155B9","#3AA6B9","#90EE90"];(0,n.A)("#total-tasks").text(i),a.chart(t,{chart:{type:"pie",backgroundColor:null,width:200,height:200},title:null,plotOptions:{pie:{innerSize:"50%",dataLabels:{enabled:!1},enableMouseTracking:!0,point:{events:{mouseOver:function(){this.graphic.element.style.cursor="pointer",console.log(this.name)},click:function(){var e,t=this.name;console.log("Clicked on:",t),"Completed"===(e=t)?(0,n.A)("#task_status").val("closed").trigger("change"):"Due Today"===e?(0,n.A)("#task_status").val("due_today").trigger("change"):"Past Due"===e?(0,n.A)("#task_status").val("past_due").trigger("change"):"Upcoming Items"===e&&(0,n.A)("#task_status").val("open_items").trigger("change")}}}}},colors:l,tooltip:{useHTML:!0,formatter:function(){return'<span style="color:'+this.point.color+'">\u25cf</span> <b>'+this.point.name+"</b>: ("+this.point.percentage.toFixed(1)+"%)<br/>\n                      <b>"+this.point.y+" Tasks</b>"}},series:[{name:"Tasks",data:[{name:"Upcoming Items",y:o[3],percentage:d[3],color:l[3]},{name:"Past Due",y:o[0],percentage:d[0],color:l[1]},{name:"Due Today",y:o[1],percentage:d[1],color:l[0]},{name:"Completed",y:o[2],percentage:d[2],color:l[2]}]}]})}))}))}};t.A=o,(0,n.A)((function(){o.render(),(0,n.A)(document).on("change",".filters select#task_status, .filters select#teams_view, .filters select#date_range_start_months",(function(){var e=(0,n.A)("#date_range_start_months").val(),t=(0,n.A)("#teams_view").val(),a=(0,n.A)(this).data("date-modal-id"),s=(0,n.A)("#task_status").val();if("custom"==e)(0,n.A)("#"+a).modal("show");else{var d=n.A.ajax({url:"/todos_filter_data",type:"POST",dataType:"json",data:{filter:e,teams_view:t,task_status:s}}),i=n.A.ajax({url:"/assignment_dashboard",method:"GET",data:{task_status:(0,n.A)("#task_status").val(),grouped_by:(0,n.A)("#grouped_by").val(),teams_view:(0,n.A)("#teams_view").val(),date_range:(0,n.A)("#date_range").val(),search:(0,n.A)("#search-todo-name").val(),date_range_start_months:(0,n.A)("#date_range_start_months").val(),todo_type:(0,n.A)("#to_do_type").val(),from_date:(0,n.A)("#assignments_dates_modal_from").val(),to_date:(0,n.A)("#assignments_dates_modal_to").val()}});n.A.when(d,i).done((function(e,t){(0,n.A)("#bar_completed_count").html(e[0].completed_count),(0,n.A)("#bar_due_today_count").html(e[0].due_today_count),(0,n.A)("#bar_past_due_count").html(e[0].past_due_count),(0,n.A)("#bar_open_items_count").html(e[0].open_items_count),(0,n.A)("#pie_completed_percentage").html('<div class="progress-fill" style="width: '+e[0].completed_percentage+'%; background-color: #3AA6B9;"></div>'),(0,n.A)("#pie_due_today_percentage").html('<div class="progress-fill" style="width: '+e[0].due_today_percentage+'%; background-color: #F765A3;"></div>'),(0,n.A)("#pie_past_due_percentage").html('<div class="progress-fill" style="width: '+e[0].past_due_percentage+'%; background-color: #A155B9;"></div>'),(0,n.A)("#pie_open_items_percentage").html('<div class="progress-fill" style="width: '+e[0].open_items_percentage+'%; background-color: #90EE90;"></div>'),(0,n.A)("#assignment_data_table").replaceWith(t[0]);var a=(0,n.A)("#assignment_data_table tbody tr").length;(0,n.A)("#table-rows-count").html("<span>Showing "+a+" records</span>"),(0,n.A)(".footable").controlFooTable(),(0,n.A)(".chartCard").replaceWith('\n            <div class="chartCard">\n                <div class="chart-legend-wrapper">\n                    \x3c!-- Donut chart --\x3e\n                    <div class="donut-chart"\n                         data-json=\'{\n                            "percentages": ['+e[0].pie_past_due_percentage+", "+e[0].pie_past_due_percentage+", "+e[0].pie_completed_percentage+", "+e[0].pie_open_items_percentage+'],\n                            "tasks": ['+e[0].pie_past_due_count+", "+e[0].pie_due_today_count+", "+e[0].pie_completed_count+", "+e[0].pie_open_items_count+']\n                        }\'>\n                    </div>\n\n                    \x3c!-- Legend --\x3e\n                    <div class="legend">\n                      <div>\n                        <div class="legend-title">Total Tasks</div>\n                        <div class="legend-subtitle">'+e[0].pie_total_assignments_count+'</div>\n                      </div>\n                      <div class="legend-item">\n                        <div class="legend-dot past-due-dot"></div>\n                        <div class="legend-value">Past Due</div>\n                      </div>\n                      <div class="legend-item">\n                        <div class="legend-dot due-today-dot"></div>\n                        <div class="legend-value">Due Today</div>\n                      </div>\n                      <div class="legend-item">\n                        <div class="legend-dot completed-dot"></div>\n                        <div class="legend-value">Completed Today</div>\n                      </div>\n                      <div class="legend-item">\n                          <div class="legend-dot open_items-dot"></div>\n                          <div class="legend-value">Upcoming Items</div>\n                      </div>\n                    </div>\n                </div>\n            </div>\n        '),setTimeout((function(){"closed"==s?((0,n.A)("#tab--assignment .table.footable > tbody > tr.footable-empty > td ").hide(),(0,n.A)("#assignment-message-box").html("Check Dashboard Settings under Edit Profile to show today's completed work on 'My ToDos' tab")):(0,n.A)("#assignment-message-box").html("")}),500),o.render()})).fail((function(){console.error("Error fetching filtered assignments")}))}})),(0,n.A)(document).on("click","#assignments_dates_modal_submit",(function(e){e.preventDefault();var t=(0,n.A)("#date_range_start_months").val(),a=(0,n.A)("#teams_view").val(),s=(0,n.A)("#task_status").val(),d=(0,n.A)("#assignments_dates_modal_from").val(),i=(0,n.A)("#assignments_dates_modal_to").val();if(d&&i){var l=n.A.ajax({url:"/todos_filter_data",type:"POST",dataType:"json",data:{filter:t,teams_view:a,task_status:s,from_date:d,to_date:i}}),r=n.A.ajax({url:"/assignment_dashboard",method:"GET",data:{task_status:(0,n.A)("#task_status").val(),grouped_by:(0,n.A)("#grouped_by").val(),teams_view:(0,n.A)("#teams_view").val(),date_range:(0,n.A)("#date_range").val(),search:(0,n.A)("#search-todo-name").val(),date_range_start_months:(0,n.A)("#date_range_start_months").val(),todo_type:(0,n.A)("#to_do_type").val(),from_date:(0,n.A)("#assignments_dates_modal_from").val(),to_date:(0,n.A)("#assignments_dates_modal_to").val()}});n.A.when(l,r).done((function(e,t){(0,n.A)("#assignments_dates_modal").modal("hide"),(0,n.A)("#bar_completed_count").html(e[0].completed_count),(0,n.A)("#bar_due_today_count").html(e[0].due_today_count),(0,n.A)("#bar_past_due_count").html(e[0].past_due_count),(0,n.A)("#bar_open_items_count").html(e[0].open_items_count),(0,n.A)("#pie_completed_percentage").html('<div class="progress-fill" style="width: '+e[0].completed_percentage+'%; background-color: #3AA6B9;"></div>'),(0,n.A)("#pie_due_today_percentage").html('<div class="progress-fill" style="width: '+e[0].due_today_percentage+'%; background-color: #F765A3;"></div>'),(0,n.A)("#pie_past_due_percentage").html('<div class="progress-fill" style="width: '+e[0].past_due_percentage+'%; background-color: #A155B9;"></div>'),(0,n.A)("#pie_open_items_percentage").html('<div class="progress-fill" style="width: '+e[0].open_items_percentage+'%; background-color: #90EE90;"></div>'),(0,n.A)("#assignment_data_table").replaceWith(t[0]);var a=(0,n.A)("#assignment_data_table tbody tr").length;(0,n.A)("#table-rows-count").html("<span>Showing "+a+" records</span>"),(0,n.A)(".footable").controlFooTable(),(0,n.A)(".chartCard").replaceWith('\n            <div class="chartCard">\n                <div class="chart-legend-wrapper">\n                    \x3c!-- Donut chart --\x3e\n                    <div class="donut-chart"\n                         data-json=\'{\n                            "percentages": ['+e[0].pie_past_due_percentage+", "+e[0].pie_past_due_percentage+", "+e[0].pie_completed_percentage+", "+e[0].pie_open_items_percentage+'],\n                            "tasks": ['+e[0].pie_past_due_count+", "+e[0].pie_due_today_count+", "+e[0].pie_completed_count+", "+e[0].pie_open_items_count+']\n                        }\'>\n                    </div>\n\n                    \x3c!-- Legend --\x3e\n                    <div class="legend">\n                      <div>\n                        <div class="legend-title">Total Tasks</div>\n                        <div class="legend-subtitle">'+e[0].pie_total_assignments_count+'</div>\n                      </div>\n                      <div class="legend-item">\n                        <div class="legend-dot past-due-dot"></div>\n                        <div class="legend-value">Past Due</div>\n                      </div>\n                      <div class="legend-item">\n                        <div class="legend-dot due-today-dot"></div>\n                        <div class="legend-value">Due Today</div>\n                      </div>\n                      <div class="legend-item">\n                        <div class="legend-dot completed-dot"></div>\n                        <div class="legend-value">Completed</div>\n                      </div>\n                      <div class="legend-item">\n                          <div class="legend-dot open_items-dot"></div>\n                          <div class="legend-value">Upcoming Items</div>\n                      </div>\n                    </div>\n                </div>\n            </div>\n        '),o.render()})).fail((function(){console.error("Error fetching filtered assignments")}))}else alert("Please select both From and To dates.")})),(0,n.A)(document).on("shown.bs.modal",o.render)}))},62493:function(e,t,a){var n=a(70719);t.A=function(e){var t=(0,n.A)('<div class="'+e+'-bg" />').hide().appendTo("body"),a=t.css("background-color");return t.remove(),a}},70719:function(e,t,a){var n=a(82726),s=a.n(n);a(67484);t.A=s()}}]);
//# sourceMappingURL=9044-cb45843414a5eb8c0ed8.js.map